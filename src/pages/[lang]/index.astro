---
import { availableLanguages } from "@/config/i18n/messages";
import { getLangFromUrl } from "@/config/i18n/utils";
import { SITE_DESCRIPTION, SITE_TITLE } from "@/consts";
import Hero from "@/presentation/components/home/Hero.astro";
import TopPostList from "@/presentation/components/home/TopPostList.astro";
import TopProjectList from "@/presentation/components/home/TopProjectList.astro";
import BaseHead from "@/presentation/components/nav/BaseHead.astro";
import Body from "@/presentation/layouts/Body.astro";

export const prerender = true;

export async function getStaticPaths() {
    return availableLanguages.map((lang) => ({ params: { lang } }));
}

const lang = getLangFromUrl(Astro.url);
---

<!doctype html>
<html lang={lang}>
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<Body class="w-full flex flex-col items-center justify-start gap-12 pb-10">
		<Hero />
		<TopPostList />
		<TopProjectList />
	</Body>
</html>
