---
import Analytics from "@vercel/analytics/astro";
import SpeedInsights from "@vercel/speed-insights/astro";
import { getLangFromUrl, useTranslations } from "@/config/i18n/utils";
import { paths } from "@/config/paths";
import ThemeSwitcher from "@/presentation/components/cross/ThemeSwitcher.astro";
import LanguageSwitcher from "../cross/LanguageSwitcher.astro";
import HeaderLink from "./HeaderLink.astro";
import NavMobile from "./NavMobile.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang, "home");
---

<header class="w-full border-b" style="border-color: var(--border-soft);">
	<nav class="container mx-auto py-4 px-5 md:px-10 flex items-center justify-between">
		<HeaderLink class="cursor-pointer flex items-center gap-2 no-underline hover:no-underline" href={paths.home(lang)} >
			<span class="ui-meta text-xs md:text-sm">{"<dev/>"}</span>
			<h1 class="font-semibold text-base md:text-2xl tracking-tight adaptive-text">
				albertonet
			</h1>
		</HeaderLink>
		<div
			id="navbar-default"
			class="hidden lg:flex items-center justify-center gap-5 text-sm"
		>
			<HeaderLink href={paths.blog(lang)}>
				{t("blogLink")}
			</HeaderLink>
			<HeaderLink href={paths.contact(lang)}>
				{t("contactLink")}
			</HeaderLink>
			<div class="h-6 w-px" style="background-color: var(--border-soft);" />
			<LanguageSwitcher />
			<ThemeSwitcher />
		</div>
		<NavMobile />
	</nav>
	<Analytics />
	<SpeedInsights />
</header>
