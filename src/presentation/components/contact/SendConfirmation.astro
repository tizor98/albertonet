---
import { getLangFromUrl, useTranslations } from "@/config/i18n/utils";
import { paths } from "@/config/paths";
import DefaultLink from "../ui/DefaultLink.astro";
import SecondaryLink from "../ui/SecondaryLink.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang, "contact");
---

<section
    id="contact-notification"
    class="w-full min-h-96 flex items-center justify-center"
>
    <div class="flex flex-col gap-5 text-center">
        <h2>{t("notification.send")}</h2>
        <div class="flex gap-3">
            <DefaultLink target="_self" href={paths.home(lang)}>
                {t("notification.goHome")}
            </DefaultLink>
            <SecondaryLink target="_self" href={paths.contact(lang)}>
                {t("notification.other")}
            </SecondaryLink>
        </div>
    </div>
</section>
<div id="toast" class="toast transition-all duration-1000 ease-in-out">
    <div class="alert alert-info bg-black dark:bg-white text-white dark:text-black">
        <span>{t("notification.send")}</span>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const toast = document.getElementById("toast");

    if (toast) {
        let timeout = null;
        try {
            timeout = setTimeout(() => {
                toast.remove();
            }, 1000)
        } catch {
            if (timeout) {
                clearTimeout(timeout);
                timeout = null;
            }
        }
    }
});
</script>