---
import BaseHead from "../components/nav/BaseHead.astro";
import Body from "./Body.astro";
import FormattedDate from "../components/ui/FormattedDate.astro";
import { Image } from "astro:assets";
import type { PostEntry } from "@/content.config";

type Props = PostEntry["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
const { lang } = Astro.params;
---

<html lang={lang} class="dark">
	<head>
		<BaseHead title={title} description={description} />
	</head>

	<Body>
		<article>
			<div class="w-full">
				{heroImage && <Image class="block m-auto" width={1020} height={510} src={heroImage} alt="" />}
			</div>
			<div class="p-4 m-auto max-w-[1000px]">
				<div class="prose mb-4 text-center font-bold text-gray-800 dark:text-gray-200">
					<div class="date">
						<FormattedDate date={pubDate} />
						{
							pubDate && (
								<div class="text-sm italic">
									Last updated on <FormattedDate date={pubDate} />
								</div>
							)
						}
					</div>
					<h1 class="text-gray-800 dark:text-gray-200">{title}</h1>
					<hr />
				</div>
				<div
					class="prose
      prose-h1:font-bold prose-h1:text-xl 
      prose-a:text-blue-600 prose-p:text-justify prose-img:rounded-xl 
      prose-headings:underline">
						<slot />
				</div>
			</div>
		</article>
	</Body>
</html>
