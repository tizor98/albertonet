---
import { getLangFromUrl } from "@/config/i18n/utils";
import { paths } from "@/config/paths";
import type { PostEntry } from "@/content.config";

interface Props {
    topPost: PostEntry;
}

const { topPost } = Astro.props;
const lang = getLangFromUrl(Astro.url);
---

<a href={paths.blogPost(lang, topPost.data.slug)}>
    <div class="flex flex-col gap-2 px-6 py-3 border bg-white dark:bg-slate-700 rounded-xl">
        <h3 class="text-lg font-semibold line-clamp-2">
            {topPost.data.title}
        </h3>
        <p class="text-xs tracking-tight font-light">
            {topPost.data.pubDate.toLocaleDateString()}
        </p>
        <div class="text-sm tracking-tight flex flex-wrap gap-1">
            {topPost.data.categories.split(";").map((category) => {
                return (
                    <p
                        class="bg-blue-300 dark:bg-blue-800 text-center text-black dark:text-white px-2 py-1 rounded-lg"
                    >
                        {category}
                    </p>
                );
            })}
        </div>
    </div>
</a>