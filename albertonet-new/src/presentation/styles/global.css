@import "tailwindcss";

@plugin "@tailwindcss/typography";
@plugin "daisyui";
@plugin "@iconify/tailwind4";

@custom-variant dark (&:is(.dark *));

.adaptive-text {
    @apply text-black dark:text-white;
}

@layer base {
    .custom-input {
        @apply flex h-10 w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-base ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300;
    }
    .custom-text-area {
        @apply flex min-h-[80px] w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-base ring-offset-white placeholder:text-zinc-500 focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300;
    }
    .custom-label {
        @apply text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70;
    }
}

@layer utilities {
    /* A small utility to apply custom prose colors via Tailwind's theme() helper. */
    /* Option C: directly apply Tailwind utilities to the prose selectors (lossy relative to the typography variables). */
    .prose-custom {
        /* body text color */
        @apply text-slate-700;
    }

    .prose-custom :is(h1,h2,h3,h4,h5,h6) {
        /* headings color */
        @apply text-slate-900;
    }

    .prose-custom .lead {
        /* lead/intro text */
        @apply text-slate-600;
    }

    .prose-custom a {
        /* links */
        @apply text-blue-600;
    }

    .prose-custom strong,
    .prose-custom b {
        /* bold text */
        @apply text-slate-900;
    }

    .prose-custom ol {
        /* ordered list counters */
        @apply marker:text-slate-500;
    }

    .prose-custom ul {
        /* unordered list bullets */
        @apply marker:text-slate-300;
    }

    .prose-custom hr {
        /* horizontal rules */
        @apply border-slate-200;
    }

    .prose-custom blockquote {
        /* blockquotes text and border */
        @apply text-slate-900 border-slate-200;
    }

    .prose-custom figcaption {
        /* image captions */
        @apply text-slate-500;
    }

    .prose-custom kbd {
        /* keyboard keys */
        @apply text-slate-900;
    }

    .prose-custom code {
        /* inline code */
        @apply text-slate-100;
    }

    .prose-custom pre {
        /* preformatted blocks */
        @apply text-slate-200 bg-slate-800;
    }

    .prose-custom th {
        @apply border-slate-600 bg-slate-200 text-black;
    }

    .prose-custom td {
        @apply border-slate-600;
    }

    /* Dark / invert variants: apply utilities under .dark scope */
    .dark .prose-custom {
        @apply text-slate-300;
    }

    .dark .prose-custom :is(h1,h2,h3,h4,h5,h6) {
        @apply text-white;
    }

    .dark .prose-custom .lead {
        @apply text-slate-400;
    }

    .dark .prose-custom a {
        @apply text-white;
    }

    .dark .prose-custom strong,
    .dark .prose-custom b {
        @apply text-white;
    }

    .dark .prose-custom ol {
        @apply marker:text-slate-400;
    }

    .dark .prose-custom ul {
        @apply marker:text-slate-600;
    }

    .dark .prose-custom hr {
        @apply border-slate-700;
    }

    .dark .prose-custom blockquote {
        @apply text-slate-100 border-slate-700;
    }

    .dark .prose-custom figcaption {
        @apply text-slate-400;
    }

    .dark .prose-custom kbd {
        @apply text-white;
    }

    .dark .prose-custom code {
        @apply text-white;
    }

    .dark .prose-custom pre {
        /* keep the semi-transparent black background from before */
        @apply text-slate-300;
        background-color: rgb(0 0 0 / 50%);
    }

    .dark .prose-custom th {
        @apply border-slate-600;
    }

    .dark .prose-custom td {
        @apply border-slate-700;
    }
}
